{% extends 'layout.html' %}

{% block content %}
<body>
    <h1>Editar Libro</h1>
    <form action="{{ url_for('libros.editarlibro', id=libro.id) }}" method="POST" enctype="multipart/form-data">
        <label for="titulo">Título:</label>
        <input type="text" name="titulo" value="{{ libro.titulo }}" required><br>

        <label for="autor">Autor:</label>
        <select name="autor" required>
            {% for autor in autores %}
                <option value="{{ autor.id }}" {% if autor.id == libro.autor_id %}selected{% endif %}>{{ autor.nombre }} {{ autor.apellido }}</option>
            {% endfor %}
        </select><br>

        <label for="genero">Género:</label>
        <select name="genero" required>
            {% for genero in generos %}
                <option value="{{ genero.id }}" {% if genero.id == libro.genero_id %}selected{% endif %}>{{ genero.nombre }}</option>
            {% endfor %}
        </select><br>

        <label for="editorial">Editorial:</label>
        <select name="editorial">
            <option value="">Ninguna</option>
            {% for editorial in editoriales %}
                <option value="{{ editorial.id }}" {% if editorial.id == libro.editorial_id %}selected{% endif %}>{{ editorial.nombre }}</option>
            {% endfor %}
        </select><br>

        <label for="descripcion">Descripción:</label>
        <textarea name="descripcion" required>{{ libro.descripcion }}</textarea><br>

        <label for="fecha_publicacion">Fecha de Publicación:</label>
        <input type="date" name="fecha_publicacion" value="{{ libro.fecha_emision if libro.fecha_emision else 'Fecha Desconocida'}}" ><br>

        <label for="stock">Stock:</label>
        <input type="number" name="stock" value="{{ libro.stock }}" required><br>

        <label for="precio">Precio:</label>
        <input type="number" step="0.01" name="precio" value="{{ libro.precio }}" required><br>

        <label for="precio_alquiler">Precio de Alquiler:</label>
        <input type="number" step="0.01" name="precio_alquiler" value="{{ libro.precio_alquiler }}"><br>

        <label for="isbn">ISBN:</label>
        <input type="text" name="isbn" value="{{ libro.isbn }}" required><br>

        <label for="idioma">Idioma:</label>
        <input type="text" name="idioma" value="{{ libro.idioma }}" required><br>

        <label for="edicion">Edición:</label>
        <input type="text" name="edicion" value="{{ libro.edicion }}" required><br>

        <label for="paginas">Número de Páginas:</label>
        <input type="number" name="paginas" value="{{ libro.paginas }}" required><br>

        <label for="formato">Formato:</label>
        <input type="text" name="formato" value="{{ libro.formato }}" required><br>

        <label for="imagen">Cambiar Imagen:</label>
        <input type="file" name="imagen"><br>

        <button type="submit">Actualizar Libro</button>
    </form>
</body>
</html>


</head>
<body>


        
{% endblock %}